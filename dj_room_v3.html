<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DJ Room - è¼ƒä½è¦–è§’æ“æ“ ç‰ˆ</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }
        canvas {
            display: block;
        }
        #info {
            position: absolute;
            top: 10px;
            left: 10px;
            color: white;
            background: rgba(0,0,0,0.7);
            padding: 15px;
            border-radius: 8px;
            font-size: 14px;
            line-height: 1.6;
        }
        #controls {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.7);
            padding: 15px;
            border-radius: 8px;
            color: white;
        }
        button {
            margin: 5px 0;
            padding: 8px 15px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
        }
        button:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <div id="info">
        <strong>DJ æˆ¿é–“ - æ“æ“ ç‰ˆ</strong><br>
        ğŸ–±ï¸ æ‹–æ›³æ»‘é¼ ï¼šæ—‹è½‰è¦–è§’<br>
        ğŸ” æ»¾è¼ªï¼šç¸®æ”¾<br>
        ğŸ“ å³éµæ‹–æ›³ï¼šå¹³ç§»<br><br>
        ğŸ’¡ æç¤ºï¼šæ›¸æ¡Œã€ç•«æ¶ã€çª—æˆ¶ç­‰<br>
        &nbsp;&nbsp;&nbsp;éƒ½æ˜¯ PNG å¹³é¢è²¼åœ–
    </div>
    
    <div id="controls">
        <strong>è¦–è§’åˆ‡æ›</strong><br>
        <button onclick="setCameraView(10, 8, 10)">ä¸»è¦–è§’</button>
        <button onclick="setCameraView(12, 10, 12)">ç¨é«˜ä¸€é»</button>
        <button onclick="setCameraView(8, 6, 8)">æ›´ä½æ²‰æµ¸</button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    
    <script>
        // å ´æ™¯è¨­å®š
        let scene, camera, renderer, controls;
        
        function init() {
            // å»ºç«‹å ´æ™¯
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0xf0e6d2);
            
            // å»ºç«‹ç›¸æ©Ÿï¼ˆè¼ƒä½è¦–è§’ï¼‰
            const aspect = window.innerWidth / window.innerHeight;
            camera = new THREE.PerspectiveCamera(50, aspect, 0.1, 1000);
            camera.position.set(10, 8, 10);
            camera.lookAt(0, 0, 0);
            
            // æ¸²æŸ“å™¨
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.shadowMap.enabled = true;
            document.body.appendChild(renderer.domElement);
            
            // è»Œé“æ§åˆ¶å™¨
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.target.set(0, 0, 0);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            
            // ç‡ˆå…‰
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.6);
            directionalLight.position.set(10, 15, 10);
            directionalLight.castShadow = true;
            scene.add(directionalLight);
            
            // å»ºç«‹æˆ¿é–“
            createRoom();
            
            // è¦–çª—å¤§å°èª¿æ•´
            window.addEventListener('resize', onWindowResize, false);
            
            animate();
        }
        
        function createPNGTexture(color, text) {
            // å‹•æ…‹ç”Ÿæˆå‡çš„ PNG è²¼åœ–ï¼ˆå¯¦éš›æ‡‰è©²è¼‰å…¥çœŸå¯¦åœ–ç‰‡ï¼‰
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 512;
            canvas.height = 512;
            
            // èƒŒæ™¯è‰²
            context.fillStyle = color;
            context.fillRect(0, 0, canvas.width, canvas.height);
            
            // é‚Šæ¡†
            context.strokeStyle = '#333';
            context.lineWidth = 8;
            context.strokeRect(0, 0, canvas.width, canvas.height);
            
            // æ–‡å­—æ¨™ç¤º
            context.font = 'Bold 48px Arial';
            context.fillStyle = 'white';
            context.textAlign = 'center';
            context.textBaseline = 'middle';
            context.fillText(text, 256, 256);
            
            return new THREE.CanvasTexture(canvas);
        }
        
        function createRoom() {
            // === åœ°æ¿ï¼ˆç¸®å°ç¯„åœï¼Œæ›´æ“æ“ ï¼‰===
            const floorGeometry = new THREE.PlaneGeometry(16, 16);
            const floorMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x8B7355,
                roughness: 0.8
            });
            const floor = new THREE.Mesh(floorGeometry, floorMaterial);
            floor.rotation.x = -Math.PI / 2;
            floor.receiveShadow = true;
            scene.add(floor);
            
            // === åœ°æ¯¯ï¼ˆä¸­å¤®ï¼Œæ”¾å¤§ï¼‰===
            const carpetGeometry = new THREE.PlaneGeometry(8, 8);
            const carpetMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x8B4513,
                roughness: 1.0
            });
            const carpet = new THREE.Mesh(carpetGeometry, carpetMaterial);
            carpet.rotation.x = -Math.PI / 2;
            carpet.position.y = 0.02;
            scene.add(carpet);
            
            // === åŒ—ç‰†ï¼ˆå¾Œæ–¹ï¼‰===
            const northWallGeometry = new THREE.PlaneGeometry(16, 8);
            const northWallMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x3a3a3a,
                side: THREE.DoubleSide
            });
            const northWall = new THREE.Mesh(northWallGeometry, northWallMaterial);
            northWall.position.set(0, 4, -8);
            scene.add(northWall);
            
            // === è¥¿ç‰†ï¼ˆå·¦å´ï¼‰===
            const westWallGeometry = new THREE.PlaneGeometry(16, 8);
            const westWallMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x4a4a4a,
                side: THREE.DoubleSide
            });
            const westWall = new THREE.Mesh(westWallGeometry, westWallMaterial);
            westWall.position.set(-8, 4, 0);
            westWall.rotation.y = Math.PI / 2;
            scene.add(westWall);
            
            // æ±ç‰†å·²ç§»é™¤ï¼Œä¿æŒé–‹æ”¾ç©ºé–“
            
            // === DJ å°ï¼ˆ3Dï¼ŒåŸå°ºå¯¸ 4x1.5x2ï¼Œå¾€å·¦ç§»ï¼‰===
            const djBoothGeometry = new THREE.BoxGeometry(4, 1.5, 2);
            const djBoothMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x1a1a1a,
                metalness: 0.6,
                roughness: 0.3
            });
            const djBooth = new THREE.Mesh(djBoothGeometry, djBoothMaterial);
            djBooth.position.set(-2.5, 0.75, 5); // å¾€å·¦ç§»ï¼Œé è¿‘çª—å°
            djBooth.castShadow = true;
            scene.add(djBooth);
            
            // DJ å°ä¸Šçš„è¨­å‚™
            const equipmentGeometry = new THREE.BoxGeometry(2, 0.3, 1);
            const equipmentMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x333333,
                metalness: 0.8
            });
            const equipment = new THREE.Mesh(equipmentGeometry, equipmentMaterial);
            equipment.position.set(-2.5, 1.65, 5);
            scene.add(equipment);
            
            // === ä¸»è§’ï¼ˆ3Dï¼Œå†æ”¾å¤§åˆ° 0.8x3.5 çš„åœ“æŸ±é«”ï¼‰===
            const characterGeometry = new THREE.CylinderGeometry(0.8, 0.8, 3.5);
            const characterMaterial = new THREE.MeshStandardMaterial({ 
                color: 0xFF6B6B,
                roughness: 0.5
            });
            const character = new THREE.Mesh(characterGeometry, characterMaterial);
            character.position.set(2, 1.75, 1.5); // åœ¨åœ°æ¯¯å€åŸŸ
            character.castShadow = true;
            scene.add(character);
            
            // ä¸»è§’çš„é ­ï¼ˆç°¡å–®çƒé«”ï¼Œä¹Ÿæ”¾å¤§ï¼‰
            const headGeometry = new THREE.SphereGeometry(0.6, 16, 16);
            const headMaterial = new THREE.MeshStandardMaterial({ 
                color: 0xFFDAB9
            });
            const head = new THREE.Mesh(headGeometry, headMaterial);
            head.position.set(2, 3.8, 1.5);
            scene.add(head);
            
            // === PNG è²¼åœ–ç‰©ä»¶å€‘ ===
            
            // æ›¸æ¡Œï¼ˆPNGï¼Œæ”¾åœ¨åŒ—é‚Šå·¦å´ï¼‰
            const deskTexture = createPNGTexture('#654321', 'ğŸ“š æ›¸æ¡Œ');
            const deskGeometry = new THREE.PlaneGeometry(3, 3);
            const deskMaterial = new THREE.MeshBasicMaterial({ 
                map: deskTexture,
                transparent: true,
                side: THREE.DoubleSide
            });
            const desk = new THREE.Mesh(deskGeometry, deskMaterial);
            desk.position.set(-4, 2, -6.5);
            scene.add(desk);
            
            // ç•«æ¶ï¼ˆPNGï¼Œæ”¾åœ¨åŒ—é‚Šå³å´ï¼‰
            const easelTexture = createPNGTexture('#8B4513', 'ğŸ¨ ç•«æ¶');
            const easelGeometry = new THREE.PlaneGeometry(2.5, 3.5);
            const easelMaterial = new THREE.MeshBasicMaterial({ 
                map: easelTexture,
                transparent: true,
                side: THREE.DoubleSide
            });
            const easel = new THREE.Mesh(easelGeometry, easelMaterial);
            easel.position.set(4, 2.5, -6.5);
            scene.add(easel);
            
            // è½åœ°çª—ï¼ˆPNGï¼Œæ”¾åœ¨è¥¿ç‰†ï¼‰
            const windowTexture = createPNGTexture('#87CEEB', 'ğŸªŸ çª—æˆ¶');
            const windowGeometry = new THREE.PlaneGeometry(3, 4);
            const windowMaterial = new THREE.MeshBasicMaterial({ 
                map: windowTexture,
                transparent: true,
                opacity: 0.8
            });
            const window = new THREE.Mesh(windowGeometry, windowMaterial);
            window.position.set(-7.9, 3, 0);
            window.rotation.y = Math.PI / 2;
            scene.add(window);
            
            // é³¥ï¼ˆPNGï¼Œçª—å¤–ï¼‰
            const birdTexture = createPNGTexture('#FFD700', 'ğŸ¦ é³¥');
            const birdGeometry = new THREE.PlaneGeometry(1, 1);
            const birdMaterial = new THREE.MeshBasicMaterial({ 
                map: birdTexture,
                transparent: true
            });
            const bird = new THREE.Mesh(birdGeometry, birdMaterial);
            bird.position.set(-7.5, 6, 2);
            bird.rotation.y = Math.PI / 2;
            scene.add(bird);
            
            // ç›†æ ½ï¼ˆSpriteï¼Œæ°¸é é¢æœé¡é ­ï¼‰
            const plantTexture = createPNGTexture('#2F4F2F', 'ğŸª´ ç›†æ ½');
            const plantMaterial = new THREE.SpriteMaterial({ 
                map: plantTexture,
                transparent: true
            });
            const plant = new THREE.Sprite(plantMaterial);
            plant.position.set(6, 1, -3);
            plant.scale.set(1.5, 2, 1);
            scene.add(plant);
            
            // å¤§ç›†æ ½ï¼ˆæ›¸æ¡Œå‰æ–¹ç‰†è§’ï¼ŒSpriteï¼‰
            const bigPlantTexture = createPNGTexture('#228B22', 'ğŸŒ¿ å¤§ç›†æ ½');
            const bigPlantMaterial = new THREE.SpriteMaterial({ 
                map: bigPlantTexture,
                transparent: true
            });
            const bigPlant = new THREE.Sprite(bigPlantMaterial);
            bigPlant.position.set(-6.5, 2, -6.5); // è¥¿åŒ—ç‰†è§’
            bigPlant.scale.set(2.5, 3.5, 1);
            scene.add(bigPlant);
            
            // æµ·å ±ï¼ˆPNGï¼Œè²¼åœ¨ç‰†ä¸Šï¼‰
            const posterTexture = createPNGTexture('#8B008B', 'ğŸµ æµ·å ±');
            const posterGeometry = new THREE.PlaneGeometry(2, 3);
            const posterMaterial = new THREE.MeshBasicMaterial({ 
                map: posterTexture,
                transparent: true
            });
            const poster = new THREE.Mesh(posterGeometry, posterMaterial);
            poster.position.set(0, 5, -7.9);
            scene.add(poster);
            
            // å”±ç›¤ï¼ˆSpriteï¼Œæ°¸é é¢æœé¡é ­ï¼‰
            const vinylTexture = createPNGTexture('#1a1a1a', 'ğŸ’¿ å”±ç›¤');
            const vinylMaterial = new THREE.SpriteMaterial({ 
                map: vinylTexture,
                transparent: true
            });
            const vinyl = new THREE.Sprite(vinylMaterial);
            vinyl.position.set(6, 1.5, 4);
            vinyl.scale.set(2, 2, 1);
            scene.add(vinyl);
            
            // æ·»åŠ æ–‡å­—æ¨™ç±¤
            addLabel('DJ å° (3D)', -2.5, 3, 5);
            addLabel('ä¸»è§’ (3D)', 2, 5, 1.5);
            addLabel('ç›†æ ½/å”±ç›¤æœƒè·Ÿè‘—é¡é ­æ—‹è½‰', 6, 3.5, 0);
        }
        
        function addLabel(text, x, y, z) {
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 512;
            canvas.height = 128;
            
            context.fillStyle = 'rgba(0, 0, 0, 0.8)';
            context.fillRect(0, 0, canvas.width, canvas.height);
            
            context.font = 'Bold 36px Arial';
            context.fillStyle = 'white';
            context.textAlign = 'center';
            context.fillText(text, 256, 70);
            
            const texture = new THREE.CanvasTexture(canvas);
            const spriteMaterial = new THREE.SpriteMaterial({ map: texture });
            const sprite = new THREE.Sprite(spriteMaterial);
            sprite.position.set(x, y, z);
            sprite.scale.set(3, 0.75, 1);
            scene.add(sprite);
        }
        
        function setCameraView(x, y, z) {
            camera.position.set(x, y, z);
            controls.target.set(0, 0, 0);
            controls.update();
        }
        
        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
        }
        
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }
        
        // å•Ÿå‹•
        init();
    </script>
</body>
</html>
